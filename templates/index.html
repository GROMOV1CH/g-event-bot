<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏</title>
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="profile-section">
                <img src="{{ url_for('static', path='images/panda.jpg') }}" alt="–ü—Ä–æ—Ñ–∏–ª—å" class="profile-image" id="profileButton">
            </div>
        </header>

        <nav class="nav-menu">
            <button id="upcoming-events-btn" class="button active">
                üìÖ –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ
            </button>
            <button id="past-events-btn" class="button">
                üìú –ü—Ä–æ—à–µ–¥—à–∏–µ
            </button>
            <button id="polls-btn" class="button">
                üìä –û–ø—Ä–æ—Å—ã
            </button>
            <button id="admin-panel-btn" class="button admin-button" style="display: none;">
                ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            </button>
        </nav>

        <div class="search-filters">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π...">
                <button id="searchButton">üîç</button>
            </div>
            
            <div class="filters">
                <select id="monthFilter">
                    <option value="">–í—Å–µ –º–µ—Å—è—Ü—ã</option>
                    <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                    <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                    <option value="2">–ú–∞—Ä—Ç</option>
                    <option value="3">–ê–ø—Ä–µ–ª—å</option>
                    <option value="4">–ú–∞–π</option>
                    <option value="5">–ò—é–Ω—å</option>
                    <option value="6">–ò—é–ª—å</option>
                    <option value="7">–ê–≤–≥—É—Å—Ç</option>
                    <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                    <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                    <option value="10">–ù–æ—è–±—Ä—å</option>
                    <option value="11">–î–µ–∫–∞–±—Ä—å</option>
                </select>

                <select id="categoryFilter">
                    <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    <option value="meeting">–í—Å—Ç—Ä–µ—á–∞</option>
                    <option value="concert">–ö–æ–Ω—Ü–µ—Ä—Ç</option>
                    <option value="exhibition">–í—ã—Å—Ç–∞–≤–∫–∞</option>
                    <option value="sport">–°–ø–æ—Ä—Ç</option>
                    <option value="other">–î—Ä—É–≥–æ–µ</option>
                </select>
            </div>
        </div>

        <div class="content">
            <div id="events-container" class="events-list">
                <!-- –°–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>

            <div id="my-events-container" class="events-list" style="display: none;">
                <!-- –ú–æ–∏ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>

            <div id="polls-container" class="polls-list" style="display: none;">
                <!-- –û–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>

            <div id="admin-panel" class="admin-panel" style="display: none;">
                <div class="admin-tabs">
                    <button class="tab-button active" data-tab="events">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
                    <button class="tab-button" data-tab="polls">–û–ø—Ä–æ—Å—ã</button>
                    <button class="tab-button" data-tab="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                </div>

                <div class="tab-content" id="events-tab">
                    <button id="create-event-btn" class="button">
                        ‚ú® –°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
                    </button>
                    
                    <div id="events-management" class="management-list">
                        <!-- –°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                    </div>

                    <div id="create-event-form" class="admin-controls" style="display: none;">
                        <h2>–°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h2>
                        <form id="event-form">
                            <div class="form-group">
                                <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</label>
                                <input type="text" id="title" name="title" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea id="description" name="description" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                <select id="category" name="category" required>
                                    <option value="meeting">–í—Å—Ç—Ä–µ—á–∞</option>
                                    <option value="concert">–ö–æ–Ω—Ü–µ—Ä—Ç</option>
                                    <option value="exhibition">–í—ã—Å—Ç–∞–≤–∫–∞</option>
                                    <option value="sport">–°–ø–æ—Ä—Ç</option>
                                    <option value="other">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="date">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                                <input type="datetime-local" id="date" name="date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="location">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</label>
                                <input type="text" id="location" name="location">
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="button">–°–æ–∑–¥–∞—Ç—å</button>
                                <button type="button" class="button button-secondary" id="cancel-create">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="tab-content" id="polls-tab" style="display: none;">
                    <button id="create-poll-btn" class="button">
                        üìä –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å
                    </button>
                    
                    <div id="polls-management" class="management-list">
                        <!-- –°–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                    </div>

                    <div id="create-poll-form" class="admin-controls" style="display: none;">
                        <h2>–°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å</h2>
                        <form id="poll-form">
                            <div class="form-group">
                                <label for="poll-title">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞</label>
                                <input type="text" id="poll-title" name="title" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="poll-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea id="poll-description" name="description" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="poll-end-date">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                                <input type="datetime-local" id="poll-end-date" name="endDate" required>
                            </div>
                            
                            <div class="form-group">
                                <label>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤</label>
                                <div id="poll-options">
                                    <div class="poll-option">
                                        <input type="text" name="options[]" required>
                                        <button type="button" class="remove-option">‚úï</button>
                                    </div>
                                </div>
                                <button type="button" id="add-option" class="button button-secondary">
                                    + –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
                                </button>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="button">–°–æ–∑–¥–∞—Ç—å</button>
                                <button type="button" class="button button-secondary" id="cancel-poll">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="tab-content" id="stats-tab" style="display: none;">
                    <div class="stats-container">
                        <div class="stats-card">
                            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h3>
                            <div id="events-stats">
                                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π -->
                            </div>
                        </div>
                        
                        <div class="stats-card">
                            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø—Ä–æ—Å–æ–≤</h3>
                            <div id="polls-stats">
                                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø—Ä–æ—Å–æ–≤ -->
                            </div>
                        </div>
                        
                        <div class="stats-card">
                            <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                            <div id="users-stats">
                                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                            </div>
                            <div class="users-list">
                                <h4>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h4>
                                <div class="users-table-container">
                                    <table class="users-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>–ò–º—è</th>
                                                <th>–°—Ç–∞—Ç—É—Å</th>
                                                <th>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th>
                                                <th>–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</th>
                                                <th>–ì–æ–ª–æ—Å–æ–≤</th>
                                            </tr>
                                        </thead>
                                        <tbody id="users-table-body">
                                            <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è -->
    <div id="reminder-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h2>
            <form id="reminder-form">
                <div class="form-group">
                    <label for="reminder-time">–ù–∞–ø–æ–º–Ω–∏—Ç—å –∑–∞:</label>
                    <select id="reminder-time" name="reminder-time" required>
                        <option value="5">5 –º–∏–Ω—É—Ç</option>
                        <option value="15">15 –º–∏–Ω—É—Ç</option>
                        <option value="30">30 –º–∏–Ω—É—Ç</option>
                        <option value="60">1 —á–∞—Å</option>
                        <option value="180">3 —á–∞—Å–∞</option>
                        <option value="360">6 —á–∞—Å–æ–≤</option>
                        <option value="720">12 —á–∞—Å–æ–≤</option>
                        <option value="1440">1 –¥–µ–Ω—å</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="button">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    <button type="button" class="button button-secondary" id="cancel-reminder">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', path='app.js') }}"></script>
</body>
</html> 